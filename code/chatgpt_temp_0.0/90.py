

def next_smallest_and_largest(lst):
    if len(lst) < 2:
        return (None, None)
    smallest = float('inf')
    second_smallest = float('inf')
    largest = float('-inf')
    second_largest = float('-inf')
    for num in lst:
        if num < smallest:
            second_smallest = smallest
            smallest = num
        elif num < second_smallest and num != smallest:
            second_smallest = num
        if num > largest:
            second_largest = largest
            largest = num
        elif num > second_largest and num != largest:
            second_largest = num
    if second_smallest == float('inf') or second_largest == float('-inf'):
        return (None, None)
    else:
        return (second_smallest, second_largest)

if __name__ == '__main__':
    inputs = [eval(f"[{i}]") for i in ['[-1, -2, -3, -4, -5]', '[1, 1]', '[]', '[5, 1, 4, 3, 2]', '[1, 2, 3, 4, 5]', '[0]', '[1]', '[0, 0, 0, 0, 0]', '[1, 1, 1, 1, 1]', '[-1, -1, -1, -1, -1]', '[1, 2]', '[2, 1]', '[-1, 1]', '[1, -1]', '[0, -1]', '[-1, 0]', '[1, 0]', '[0, 1]', '[-1, -2, -3, -3, -3]', '[5, 5, 5, 4, 4]', '[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]', '[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]', '[0, -1, -2, -3, -4, -5]', '[-5, -4, -3, -2, -1, 0]', '[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2]', '[-1, 0, 0, 0, 0, 0, 1]', '[5, 5, 5, 5, 5, -5, -5, -5, -5, -5]', '[-1, -2, -2, -1, 0, 0, 1, 2, 2, 1]', '[100, 200, 300, 400, 500, 600, 700, 800, 900, 1000]', '[1000, 900, 800, 700, 600, 500, 400, 300, 200, 100]', '[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]', '[1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]', '[-1, -2, -3, -1, -2, -3, -1, -2, -3, -1, -2, -3]', '[999, -999, 1000, -1000, 999, -999, 1000, -1000, 999, -999, 1000, -1000, 999, -999, 1000, -1000]', '[0, 0, 0, 0, 0]', '[100, 200, 300, 400, 500, 600, 700]', '[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]', '[-100, -200, -300, -400, -500]', '[1, 2, 2, 2, 2, 2, 3]', '[5]', '[7, 7, 7, 8, 8, 8]', '[-5, -5, -2, -2, 0, 0, 1, 1, 3, 3, 4, 4]', '[10]*100 + [20]*100', 'list(range(-1000, 0)) + list(range(1, 1000))', '[10, 10, 10, 10, 10, 10, 10]', '[-1, 0, 1]', '[-1, -2, -2, -1]', '[0]', '[1, -1, 0]', '[5, 5, 5, 4, 4, 4, 3, 2, 1]', '[-5, -5, -5, -4, -4, -4, -3, -2, -1]', '[0, 0, 0, 0, 0, 0, 0, 0, 0, -1]', '[100, -100, 0, 50, -50, 25, -25, 75, -75]', '[15, -15, 30, -30, 0, 45, -45, 60, -60, 75, -75]']]
    i = 0

    while(True):
        next_smallest_and_largest(*inputs[i%len(inputs)])
        i += 1

